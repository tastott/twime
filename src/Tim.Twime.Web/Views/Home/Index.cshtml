@{
    ViewBag.Title = "twime";
}

<script>
    require(["knockout", "ViewModels/UploadViewModel", "domReady!"], function (ko, UploadViewModel) {

        var viewModel = new UploadViewModel();
        ko.applyBindings(viewModel);

    });
</script>
<div class="header">
    <h1>"The Wind is my <strong>Enemy.</strong>"</h1>
    <h2>You would have gone <i>so</i> much faster without that stupid wind. 
        <br />Upload a GPX of your blustery ride to salve your damaged ego.

    </h2>
</div>
<div class="content">
    <div data-bind="if: !FileGuid()">
        <form enctype="multipart/form-data" class="pure-form pure-form-stacked">
            <label for="file">File</label>
            <input type="file" name="file" />
        </form>
        <button type="button" role="button" data-bind="click: UploadFile">Upload</button>
        <progress style="display: none;"/>
    </div>
    <div>
        <label data-bind="text: FileGuid"></label>
        <label data-bind="text: Filename"></label>
    </div>
     <div class="pure-g" data-bind="if: FileGuid()">
        <div class="pure-u-1-2">
            <form class="pure-form pure-form-stacked">
                <label for="WindSpeedMph">Wind speed</label>
                <input type="number" name="Input.WindSpeedMph" placeholder="Wind speed in mph" data-bind="value: WindSpeed"/>

                <label for="WindBearingDegrees">Wind bearing</label>
                <input type="number" name="Input.WindBearingDegrees" placeholder="Wind bearing in degrees" data-bind="value: WindBearing"/>
            </form>
        </div>
        <div class="pure-u-1-2">
            <ul data-bind="foreach: WindDataRequests">
                <li>
                    <a href="#"><span data-bind="text: SiteName"></span></a>>
                    <canvas data-bind="windWidget: Wind()" />
                </li>
            </ul>
        </div>
    </div>
 
</div>
